"use strict";angular.module("dota2sucksApp",["ngResource","ngSanitize"]).config(["$routeProvider",function(a){a.when("/heroes",{templateUrl:"views/heroes.html",controller:"HeroesCtrl"}).when("/heroes/:x/:y",{templateUrl:"views/heroes.html",controller:"HeroesCtrl"}).when("/items",{templateUrl:"views/items.html",controller:"ItemsCtrl"}).otherwise({redirectTo:"/heroes"})}]),angular.module("dota2sucksApp").controller("HeroesCtrl",["$scope","$resource","$http",function(a,b,c){console.log("in heroes controller");var d=[];a.selectedHeroes=[];var e="http://media.steampowered.com/apps/dota2/images/heroes/",f="http://media.steampowered.com/apps/dota2/images/abilities/";c.jsonp("http://www.dota2.com/jsfeed/intlprizepool?callback=JSON_CALLBACK").success(function(b){a.dollars=b.dollars}),c.jsonp("http://www.dota2.com/jsfeed/heropickerdata?callback=JSON_CALLBACK").success(function(b){a.heroes=[];for(var c in b)b[c].img=e+c+"_sb.png",b[c].imgPortrait=e+c+"_vert.jpg",a.heroes.push(b[c])}),c.jsonp("http://www.dota2.com/jsfeed/abilitydata?callback=JSON_CALLBACK").success(function(a){for(var b in a.abilitydata)a.abilitydata[b].img=f+b+"_hp1.png",d.push(a.abilitydata[b])}),a.addHero=function(b){a.hero=b,a.hero.abilities=a.getAbilities(b),a.selectedHeroes.push(b)},a.remove=function(b){for(var c=0;c<a.selectedHeroes.length;c++)if(a.selectedHeroes[c].name===b)return a.selectedHeroes.splice(c,1),void 0},a.getAbilities=function(a){return d.filter(function(b){return b.hurl===a.name})},a.showDetail=function(b){a.hero=b},a.addDetail=function(b){a.hero=b,a.abilities=d.filter(function(a){return a.hurl===b.name})},a.clearHeroes=function(){a.selectedHeroes=[]}}]),angular.module("dota2sucksApp").directive("hero",function(){return{restrict:"E",scope:{name:"@",imagesrc:"@",atk:"@",abilities:"=",roles:"=",remove:"&"},templateUrl:"views/partials/hero.html"}}),angular.module("dota2sucksApp").directive("roles",function(){return{restrict:"E",scope:{f:"="},template:'<select ng-model="f"><option value="">Role</option><option value="Carry">Carry</option><option value="Disabler">Disabler</option><option value="LaneSupport">Lane Support</option><option value="Initiator">Initiator</option><option value="Jungler">Jungler</option><option value="Support">Support</option><option value="Durable">Durable</option><option value="Nuker">Nuker</option><option value="Pusher">Pusher</option><option value="Escape">Escape</option></select>'}}),angular.module("dota2sucksApp").directive("atk",function(){return{restrict:"E",scope:{f:"="},template:'<select ng-model="f"><option value="">Attack Type</option><option value="melee">Melee</option><option value="ranged">Ranged</option></select>'}}),angular.module("dota2sucksApp").directive("role",function(){return{restrict:"E",scope:{role:"@"}}}),angular.module("dota2sucksApp").directive("ability",function(){return{restrict:"A",link:function(a,b){$(b).prettyPhoto({deeplinking:!1})}}});